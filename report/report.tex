\documentclass[a4paper,20pt]{article}
\usepackage{latexsym}
\usepackage[empty]{fullpage}
\usepackage{titlesec}
\usepackage{marvosym}
\usepackage[dvipsnames]{xcolor}
\usepackage{verbatim}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{annotate-equations}
% Handle Chinese
\usepackage{xeCJK}
% Handle code
\usepackage{listings}
%\usepackage{listings-eikyo}
\lstset{ % add your own preferences
  frame=single,
  basicstyle=\footnotesize,
  keywordstyle=\color{red},
  numbers=left,
  numbersep=5pt,
  showstringspaces=false,
  stringstyle=\color{blue},
}

\pagestyle{fancy}
\fancyhf{} % clear all header and footer fields
\fancyfoot{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% Adjust margins
\addtolength{\oddsidemargin}{-0.530in}
\addtolength{\evensidemargin}{-0.375in}
\addtolength{\textwidth}{1in}
\addtolength{\topmargin}{-.45in}
\addtolength{\textheight}{1in}
\urlstyle{rm}
\raggedbottom
\raggedright
\setlength{\tabcolsep}{0in}
% Sections formatting
\titleformat{\section}{
  \scshape\raggedright\large
}{}{0em}{}[\color{black}\titlerule \vspace{-6pt}]

%-----------------------------
%%%%%%  STARTS HERE  %%%%%%
\begin{document}

%----------HEADING-----------------
\begin{tabular*}{\textwidth}{l@{\extracolsep{\fill}}r}
  \textbf{{\LARGE Controllable Refinement}}
  \textbf{林子篆/Danny}\\
\end{tabular*}

%-----------Formula-----------------
\section{~~Formula}

% \begin{equation*}
%   \tikzmarknode[NavyBlue]{Req}{P}
% \end{equation*}

\textbf{verify}
\begin{equation*}
  \frac{\Gamma ,
    f : A_{\tikzmarknode[NavyBlue]{Req}{P}} \rightarrow B ,
    \qquad
    x : A_{\tikzmarknode[NavyBlue]{Mark}{P}}
  }
  {\tikzmarknode[Red]{_}{f x} : B}
\end{equation*}
\annotate[yshift=1em]{above}{Req}{The mark required to have with the type}
\annotate[yshift=-1em]{below}{Mark}{The mark with type of $x$}

\textbf{introduce}
$$
\frac{
    \Gamma , f : (p : A_{P_{+}}) \rightarrow B , x : A
}{
    f x : B , x : A_{P}, p : A
}
$$

\textbf{always introduce}
$$
\frac{
    \Gamma , f : A_{P_{?+}} \rightarrow B , x : A
}{
    f x : B , x : A_{P}
}
\frac{
    \Gamma , f : A_{P_{?+}} \rightarrow B , x : A_{P}
}{
    f x : B , x : A_{P}
}
$$

\textbf{eliminate}
$$
\frac{
    \Gamma , f : (p : A_{P_{-}}) \rightarrow B , x : A_{P}
}{
    f x : B , x : A , p : A_{P}
}
$$

\textbf{always eliminate}
$$
\frac{
    \Gamma , f : A_{P_{?-}} \rightarrow B , x : A_{P}
}{
    f x : B , x : A
}
\frac{
    \Gamma , f : A_{P_{?-}} \rightarrow B , x : A
}{
    f x : B , x : A
}
$$

\end{document}
